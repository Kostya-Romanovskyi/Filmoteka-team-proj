!function(){var e={openModalFooter:document.querySelector("[data-modal-open]"),closeModalFooter:document.querySelector("[data-modal-close]"),modalFooter:document.querySelector("[data-modal-footer]"),backdropFooter:document.querySelector(".backdrop-footer")};function t(){e.modalFooter.classList.add("is-hidden-footer"),window.removeEventListener("keydown",n),document.body.style.overflow=""}function n(e){"Escape"===e.code&&(t(),window.removeEventListener("keydown",n))}e.openModalFooter.addEventListener("click",(function(){e.modalFooter.classList.remove("is-hidden-footer"),window.addEventListener("keydown",n),document.body.style.overflow="hidden"})),e.closeModalFooter.addEventListener("click",t),e.backdropFooter.addEventListener("click",(function(e){e.currentTarget===e.target&&t()})),{el:document.querySelector(".btn-up"),scrolling:!1,show:function(){if(this.el.classList.contains("btn-up_hide")&&!this.el.classList.contains("btn-up_hiding")){var e=this;this.el.classList.remove("btn-up_hide"),this.el.classList.add("btn-up_hiding"),window.setTimeout((function(){e.el.classList.remove("btn-up_hiding")}),200)}},hide:function(){if(!this.el.classList.contains("btn-up_hide")&&!this.el.classList.contains("btn-up_hiding")){var e=this;this.el.classList.add("btn-up_hiding"),window.setTimeout((function(){e.el.classList.add("btn-up_hide"),e.el.classList.remove("btn-up_hiding")}),200)}},addEventListener:function(){var e=this;window.addEventListener("scroll",(function(){var t=window.scrollY||document.documentElement.scrollTop;e.scrolling&&t>0||(e.scrolling=!1,t>400?e.show():e.hide())})),document.querySelector(".btn-up").onclick=function(){e.scrolling=!0,e.hide(),window.scrollTo({top:0,left:0,behavior:"smooth"})}}}.addEventListener();var o=document.querySelector(".movie-markup"),a=document.querySelector("[data-modal]"),c=document.querySelector(".modal-film"),i="",s=null;function l(e){u()}function d(e){"Escape"===e.key&&u()}function r(e){e.target===e.currentTarget&&u()}function u(){a.classList.add("is-hidden"),document.body.classList.remove("overflow"),a.removeEventListener("click",r),document.removeEventListener("keydown",d),i.removeEventListener("click",l)}function m(e,t){var n=e,o=JSON.parse(localStorage.getItem(n))||[];o.push(t),localStorage.setItem(n,JSON.stringify(o))}o.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest("li").getAttribute("data-id");e.target!==e.currentTarget&&(!function(e){var t=localStorage.getItem("currentPage"),n=localStorage.getItem("localGenres");try{var o=JSON.parse(t),a=JSON.parse(n);s=o.result.results.filter((function(t){return t.id===Number(e)}))[0];var i=[];a.map((function(e){s.genre_ids.includes(e.id)&&i.push(e.name)}));var l=s.poster_path?"https://image.tmdb.org/t/p/w500".concat(s.poster_path):"https://www.theoxygenstore.com/images/source/No-image.jpg";c.innerHTML='<div class="modal-film__content">\n      <button class="close-modal" type="button">\n        <svg class="close__icon" width="14" height="14">\n          <use href="./images/home/close.svg#close-icon"></use>\n        </svg>\n      </button>\n      <img\n        class="modal-film__poster"\n       \n        src="'.concat(l,'"\n        alt=').concat(s.title,'\n        width="240"\n        height="357"\n      />\n      <div class="modal-wrapper">\n      <h2 class="title-film">').concat(s.title,'</h2>\n      <ul class="modal-film__list">\n        <li class="modal-film__item">\n          <span class="item__label">Vote / Votes</span>\n          <span class="item__content"\n            ><span class="item__content--rating">').concat(s.vote_average.toFixed(1),'</span> /<span\n              class="item__content--votes"\n              >').concat(s.vote_count,'</span\n            >\n          </span>\n        </li>\n        <li class="modal-film__item">\n          <span class="item__label">Popularity</span>\n          <span class="item__content">').concat(s.popularity.toFixed(1),'</span>\n        </li>\n        <li class="modal-film__item">\n          <span class="item__label">Original Title</span>\n          <span class="item__content">').concat(s.original_title,'</span>\n        </li>\n        <li class="modal-film__item">\n          <span class="item__label">Genre</span>\n          <span class="item__content">').concat(i.join(", "),'</span>\n        </li>\n      </ul>\n      <div class="modal-film__about">\n        <h3 class="about__title">ABOUT</h3>\n        <p class="about__text">\n          ').concat(s.overview,'\n        </p>\n      </div>\n      <div class="modal-film__buttons">\n        <button class="modal_film__btn" id="add_to_watched_btn" type="button">add to Watched</button>\n        <button class="modal_film__btn" id="add_to_queue_btn" type="button">add to queue</button>\n      </div>\n      </div>\n    </div>')}catch(e){console.log(e)}}(t),n=document.querySelector("#add_to_watched_btn"),o=document.querySelector("#add_to_queue_btn"),n.addEventListener("click",(function(){return m("watched",s)})),o.addEventListener("click",(function(){return m("queue",s)})),i=document.querySelector(".close-modal"),a.classList.remove("is-hidden"),document.body.classList.add("overflow"),document.addEventListener("keydown",d),i.addEventListener("click",l),a.addEventListener("click",r));var n,o}));var _=document.querySelector(".js-watched"),p=document.querySelector(".js-queue");function v(){var e=document.querySelector(".movie-markup"),t=JSON.parse(localStorage.getItem("watched"));console.log(t),h(e,t)}function h(e,t){e.innerHTML=t.map((function(e){var n,o=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://image.tmdb.org/t/p/w500",a=t.filter((function(t){if(e.genre_ids.includes(t.id))return t.name})).map((function(e){return e.name})).join(", ");return'\n          <li class="card__item" data-id='.concat(e.id,'>\n            <a class="card__link" href="">\n              <img class="card__img" src="').concat(o,'" alt="').concat(e.title,'">\n              <div>\n                <p class="card__title">').concat(e.title,'</p>\n                <div class="card__container">\n                  <p class="card__genres"\n                  ').concat(e.genre_ids.length?"":"hidden",">").concat(a,' | </p>\n                  <p class="card__year" ').concat(e.release_date.length?"":"hidden","> ").concat(null!==(n=parseInt(e.release_date))&&void 0!==n?n:"","</p>\n                </div>\n              </div>\n            </a>\n          </li> ")})).join("")}v(),p.addEventListener("click",(function(){var e=document.querySelector(".movie-markup"),t=JSON.parse(localStorage.getItem("queue"));console.log(t),h(e,t)})),_.addEventListener("click",v)}();
//# sourceMappingURL=library.728ac244.js.map
